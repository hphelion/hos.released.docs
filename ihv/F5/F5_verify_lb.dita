<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="verify_lb">
  <title>Verify Load Balancing</title>
  <body>
    <p conkeyref="HOS-conrefs/applies-to"/>
    <section id="verify_lb_checklist">
      <p>To verify that load balancing with the F5 driver is working involves the following steps:</p>
        <ol>
          <li>Create two tenant subnets, one externally-accessible public network, and one internal private network.</li>
          <li>Connect the networks with a neutron router.</li> 
          <li>Create the test instances and loadbalancer VIP on the private subnet.</li>
          <li>Configure the VIP to be accessed from the public network using a floating IP.</li>
        </ol>
        <p>To complete these steps, use the following checklist:</p>
          <table frame="all" rowsep="1" colsep="1" id="table_ckx_F5lb_verify">
            <tgroup cols="2">
          <colspec colname="c1" colnum="1" colwidth="1*"/>
          <colspec colname="c2" colnum="2" colwidth="6.75*"/>
          <colspec colname="c3" colnum="3" colwidth="9.03*"/>
          <thead>
            <row>
              <entry>&#9744;</entry>
              <entry>Task</entry>
              <entry>Additional Details</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry/>
              <entry>Create appropriate private and public networks and subnets</entry>
              <entry>
                <ol>
                  <li>Create the networks.</li>
                  <li>Create a router connecting these networks.</li>
                </ol>
              </entry>
            </row>
            <row>
              <entry/>
              <entry>Boot at least two instances on a private subnet running a simple web
                server</entry>
              <entry>
                <ol>
                  <li>Define appropriate security groups allowing ICMP, SSH, and HTTP traffic.</li>
                  <li>Configure each web server so that its output easily identifies which instance
                    it is running on.</li>
                  <li>Use the 'curl' command to verify that the web server.</li>
                </ol>
              </entry>
            </row>
            <row>
              <entry/>
              <entry>Create a Pool</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Create a VIP on the private subnet</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Create Members for each web server instance</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Create a floating IP on the public network and associate it with the
                VIP</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Log into the F5 device and verify that the appropriate objects have been
                created on the device</entry>
              <entry/>
            </row>
            <row>
              <entry/>
              <entry>Boot an instance on the public network</entry>
              <entry>
                <ol>
                  <li>Log into this instance.</li>
                  <li>Use 'curl' to query the floating IP associated with the VIP.</li>
                  <li>Repeated queries of the VIP FIP should show load balancing between the
                    members.</li>
                </ol>
              </entry>
            </row>
          </tbody>
        </tgroup>
          </table>
    </section>
  </body>
</topic>
