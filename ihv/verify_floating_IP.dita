<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="ts_cinder_config">
  <title><ph conkeyref="HOS-conrefs/product-title-20"/>Verify Floating IP</title>
  <body>
    <p conkeyref="HOS-conrefs/applies-to"/>
    <section id="about">
      <p>When a single OpenStack cluster boots up, fixed IPs are allocated dynamically by the nova-network component. A fixed IP works well when you need connectivity only between instances inside your cloud deployment. </p>
      <p>To provide IP addresses that are publicly routable and to allow users to explicitly allocate an IP address, the cloud administrator must configure a pool of floating IPs. When an instance starts up, this pool allows users to allocate floating IP addresses to their instances. The result is that the floating IP address is now visible to different ISPs or external networks outside of your cloud deployment. If an instance dies, the user can reuse the floating IP by attaching it to another instance. Only one floating IP address can be allocated to an instance at any given time.</p>
<p>Perform the following actions to verify that floating IP Pools are configured:</p>
      <ol>
        <li>To list all pools that provide floating IP addresses, run:
          <codeblock># nova floating-ip-pool-list</codeblock>
          <b>Sample Output</b>
        <codeblock>Name     Public Test</codeblock>
          <note type="attention"> If this list is empty, the cloud administrator must configure a pool of floating IP addresses. OpenStack provides documentation on how to <xref href="http://docs.openstack.org/admin-guide-cloud/compute-networking-nova.html" scope="external" format="html">Configure A Pool of Floating IPs</xref>.</note>
        </li>
        <li>To list all floating IP addresses that are allocated to the current project, run: <codeblock># nova floating-ip-list</codeblock>
        <p><b>Sample Output</b></p>
          <table frame="all" rowsep="1" colsep="1" id="floating_ip_list_sample">
            <tgroup cols="2">
              <colspec colname="c1" colnum="1" colwidth="1*"/>
              <colspec colname="c2" colnum="2" colwidth="2.94*"/>
              <colspec colname="c3" colnum="3" colwidth="1.43*"/>
              <colspec colname="c4" colnum="4" colwidth="1.39*"/>
              <thead>
                <row>
                  <entry>IP</entry>
                  <entry>Instance ID</entry>
                  <entry>Fixed IP</entry>
                  <entry>Pool</entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>172.24.4.255</entry>
                  <entry>4a60ff6a-7a3c-49d7-9515-86ae501044c6</entry>
                  <entry>10.0.0.2</entry>
                  <entry>public</entry>
                </row>
                <row>
                  <entry>172.24.4.226</entry>
                  <entry>None</entry>
                  <entry>None</entry>
                  <entry>Public</entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <p>For each floating IP address that is allocated to the current project, the command outputs the floating IP address, the ID for the instance to which the floating IP address is assigned, the associated fixed IP address, and the pool from which the floating IP address was allocated.</p>
        </li>
      </ol>
    </section>
  </body>
</topic>
