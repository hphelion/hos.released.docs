<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd" >
<topic xml:lang="en-us" id="central_log_access_data">
  <title><ph conkeyref="HOS-conrefs/product-title"/>Access Log Data</title>
  <body>
    
    <section id="CL_access_data">
      <title>How Do I Access the Data Collected by Centralized Logging?</title>
      <p>All logging data in Helion Openstack is managed by the Centralized Logging Service and can be viewed or analyzed by Kibana. The following two graphical interfaces are available in Helion OpenStack to view log data:</p>
      <ul>
        <li>Operations Console</li>
        <li>Kibana Dashboards</li>
      </ul>
    </section>
      <lines>
      </lines>
    
    
    <section id="CL_access_OpsConsole">
      <title>Use Operations Console to Access Log Data</title>
      <p>Operations Console allows you to acess Kibana operations in the same tool that you use to manage the other Helion OpenStack resources in your deployment.</p>
      <ol>
        <li>Access <xref href="monitoring_service.dita#monitoring/working" type="section">Operations
          Console</xref>.</li>
        <li>From the menu, choose <b>Logging Dashboard</b>.</li>
      </ol>
    </section>
    <lines>
    </lines>
    
      <section id="CL_access_Kibana">
        <title>Use Kibana to Access Log Data</title>
      <p>Kibana is a tool developed to create charts, graphs, tables, and histograms based on logs sent to Elasticsearch by logstash.</p>
      <p>While creating Kibana dashboards is beyond the scope of this document, it is important to
        know that you can use the default Kibana dashboards or create custom dashboards. The
        dashboards are JSON files that you can modify or create new dashboards based on existing
        dashboards.</p>
      <note>Kibana is client-side software. To operate properly, the browser must be able to access
        port 5601 on the control plane.</note>
      <p>The access information for Kibana is defined in the
          <codeph>~/helion/my_cloud/config/logging/main.yml</codeph> file and implemented in the
        Kibana configuration file
          <codeph>~/helion/my_cloud/config/logging/kibana-apache2.conf.j2</codeph>.</p>
      <table frame="all" rowsep="1" colsep="1" id="table_spl_rg5_st">
        <tgroup cols="3">
          <colspec colname="c1" colnum="1"/>
          <colspec colname="c2" colnum="2"/>
          <colspec colname="c3" colnum="3"/>
          <thead>
            <row>
              <entry>Ansible Variable</entry>
              <entry>Default Value</entry>
              <entry>Description</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>kibana_user</entry>
              <entry>kibana</entry>
              <entry>Username that will be required for logging into the Kibana UI.</entry>
            </row>
            <row>
              <entry>kibana_pass</entry>
              <entry>random password is generated</entry>
              <entry>Password generated during installation that is used to login to the Kibana
                UI.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <p><b>Logging into Kibana</b></p>
      <p>To log into Kibana to view data, you must make sure you have the correct login
        credentials.</p>
      <ol>
        <li>Verify login credentials.</li>
        <li>Access Kibana using a direct link.</li>
      </ol>
        <p><b>Login Credentials</b></p>
        <p>During the installation of Kibana, a password is automatically set and it is randomized.
          Therefore, unless an administrator has already changed it, you need to retreive the default
          password from a file on the control plane node.</p>
        <p>The default settings for Kibana are:</p>
        <dl>
          <dlentry>
            <dt>username</dt>
            <dd>kibana</dd>
          </dlentry>
          <dlentry>
            <dt>password</dt>
            <dd>(randomized)</dd>
          </dlentry>
        </dl>
        <p><b>To find the randomized password:</b></p>
        <ol>
          <li>On your lifecycle manager, navigate to the following directory:
            <codeblock>~/scratch/ansible/next/hos/ansible/group_vars/*</codeblock></li>
          <li>To GREP for the <codeph>logging_kibana_password</codeph>, run:
            <codeblock>grep logging_kibana_password &lt;name-of-control-plane&gt;</codeblock></li>
        </ol>
        <note type="note">For example, if you are using the Entry-scale KVM with VSA model and you
          kept the default naming scheme in the example files then your command would look similar to
          this:
          <codeblock>grep logging_kibana_password entry-scale-kvm-vsa-control-plane-1</codeblock>
        </note>

      <p><b>To use a direct link:</b></p>
      <p>This section helps you verify the Horizon virtual IP (VIP) address that you should use.</p>
      <ol>
        <li>Navigate to and open in a text editor the following file:
          <codeblock>network_groups.yml </codeblock></li>
        <li>Find the following entry: <codeblock><codeph>external-name</codeph></codeblock></li>
        <li>If your administrator set a hostname value in the <b>external-name</b> field during the
          configuration process for your cloud, then Kibana will be accessed over port 5601 on that
          hostname.</li>
        <li>If your administrator did not set a hostname value, then to determine which IP address
          to use, from your lifecycle manager, run:
            <codeblock>grep vip-HZN-WEB /etc/hosts</codeblock><p>The output of that command will
            show you the virtual IP address for Kibana that you should use. Access to Kibana will be
            over port 5601 of that virtual IP address.
          Example:</p><codeblock>http://&lt;VIP&gt;:5601</codeblock>
        </li>
      </ol>
      </section>
  </body>
</topic>
